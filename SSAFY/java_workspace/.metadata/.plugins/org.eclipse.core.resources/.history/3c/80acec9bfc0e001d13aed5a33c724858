package com.ssafy.ws.step3;

import java.util.Scanner;

public class BookTest {
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		BookManager bm = BookManagerImpl.getManager();

		int sel;
		sel = sc.nextInt();
		System.out.println("1. 책 등록  \n2. 책 조회  \n3. 가격 조회\n4. 도서 삭제");
		do {
			//도서등록
			if (sel == 1) {
				System.out.println("책을 등록합니다.");
				System.out.println("1. 일반도서  2. 잡지");
				int type = sc.nextInt();
				System.out.print("isbn : ");
				String isbn = sc.next();
				System.out.println("title : ");
				String title = sc.next();
				System.out.println("author : ");
				String author = sc.next();
				System.out.println("publisher : ");
				String publisher = sc.next();
				System.out.println("price : ");
				int price = sc.nextInt();
				System.out.println("desc : ");
				String desc = sc.next();

				if (type == 1) {
					Book book = new Book(isbn, title, author, publisher, price, desc);
				}

				else if (type == 2) {
					System.out.println("year : ");
					int year = sc.nextInt();
					System.out.println("month : ");
					int month = sc.nextInt();
					Book book = new Magazine(isbn, title, author, publisher, price, desc, year, month);
				}
			}
			//도서 조회
			else if (sel == 2) {
				System.out.println("책을 조회합니다.");
				System.out.println("1. 일반도서, 2. 잡지, 3. 모든 책 조회, 4. 도서 번호로 찾기, 5. 제목으로 찾기");
				int type = sc.nextInt();

				if (type == 1) {
					System.out.println("**********************일반 도서 목록**********************");
					for (Book b : bm.bookList()) {
						System.out.println(b);
					}
				} else if (type == 2) {
					System.out.println("************************잡지 목록************************");
					for (Book b : bm.getMagazine()) {
						System.out.println(b);
					}
				} else if (type == 3) {
					for (Book b : bm.getBooks()) {
						System.out.println(b);
					}
				} else if (type == 4) {
					System.out.println("************************도서 번호로 조회************************");
					 String isbn = sc.next();
					 bm.searchByIsbn(isbn);					 
				} else if (type == 5) {
					System.out.println("************************도서 제목으로 조회***********************");
					String title = sc.next();
					bm.searchByTitle(title);
				}
			}
			//가격 조회
			else if (sel == 3) {
				System.out.println("1. 가격 총합 조회, 2. 평균 가격 조회");
				int type = sc.nextInt();
				if(type ==1) {
				System.out.println("************************가격 총합 조회************************");
				System.out.println(bm.getTotalPrice());
				} else if (type == 2) {
				System.out.println("************************평균 가격 조회************************");
				System.out.println(bm.getPriceAvg());
				}
			}
			else if (sel == 4) {
				System.out.println("**************************도서 삭제**************************");
				String isbn = sc.next();
				bm.remove(isbn);
			}				
		} while (sel != 0);

	}
}
